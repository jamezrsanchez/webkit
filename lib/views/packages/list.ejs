<h1>Packages</h1> 

<style>
table.packages { margin: 10px 0; }
table.packages td, table.packages th { padding: 5px 10px; }
table.packages th { font-weight: bold; }
table.packages tbody tr:hover { background-color: #ddd;}

table.packages tbody tr.old { background-color: #FAA;}

</style>

<h2>Installed packages</h2>
<table class="packages">
  <thead>
  <tr>
    <th>Name</th>
    <th>Version</th>
    <th>Author</th>
    <th>Description</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <% for(var k in packages.installed) { 
        pkg = packages.installed[k]; 
        current_version = pkg.name.split('@')[1]
        //latest = pkg.data["dist-tags"].latest
        latest = 'TODO'
  %>
    <tr<% if(current_version != latest) { %> class="old"<%}%>>
      <td><%= k %></td>
      <td><%= current_version %></td>
      <td><%= pkg.author.name %></td>
      <td><%= pkg.description %></td>
      <td><% if(current_version != latest) { %><a href="/packages/install/<%= k %>"><img src="/images/icons/package_go.png" title="update to <%= latest %>" alt="update to <%= latest %>"></a><% } %> <a href="/packages/uninstall/<%= k %>"><img src="/images/icons/package_delete.png" alt="delete" title="delete this package"></a></td>
    </tr>
  <% } %>
  </tbody>
</table>

<br /><br />

<h2>Available packages</h2>
<table class="packages">
  <thead>
  <tr>
    <th>Name</th>
    <th>Version</th>
    <th>Author</th>
    <th>Description</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <% var availableCount = 0;
     for(var k in packages.available) { 
        availableCount++;
        pkg = packages.available[k]; 
        // latest = pkg.data["dist-tags"].latest
        latest = 'TODO'
     %>
    <tr>
      <td><%= k %></td>
      <td><%= latest %></td>
      <td><%= pkg.data.author.name %></td>
      <td><%= pkg.data.description %></td>
      <td><a href="/packages/install/<%= k %>"><img src="/images/icons/package_add.png" alt="add this package" title="install this package"></a></td>
    </tr>
  <% } %>
  <% if(availableCount === 0) { %> 
  <tr>
    <td colspan="5" style="text-align: center; font-style: italic;">No more package to install</td>
  </tr>
  <% } %>
  </tbody>
</table>

<br /><br />

<h2>About packages</h2>

<br />

<p>Packages are distributed through the <b>npm</b> package manager: <a href="http://npmjs.org/">http://npmjs.org/</a></p>

<br />

<p>You can contribute packages by publishing a package to the <a href="http://search.npmjs.org/">npm registry</a> called "webhookit-<i>mymodule</i>".</p>

<br />

<p>More details on the <a href="http://neyric.github.com/webhookit/docs/custom-modules.html">WebHookIt documentation</a>.</p>



